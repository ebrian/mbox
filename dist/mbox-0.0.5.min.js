var mbox=function(e){var o={en:{CANCEL:"Cancel",OK:"OK"},el:{CANCEL:"Ακύρωση",OK:"Εντάξει"},it:{CANCEL:"Annulla",OK:"OK"},de:{CANCEL:"Abbrechen",OK:"OK"},pt:{OK:"Está bem",CANCEL:"cancelar"}},t={locale:"en",global:{options:{open_speed:0,close_speed:0}},options:{},set_close_speed:function(e){if(isNaN(e))throw new Error("Speed value must be a number but a "+typeof e+" was given");t.global.options.close_speed=e},set_open_speed:function(e){if(isNaN(e))throw new Error("Speed value must be a number but a "+typeof e+" was given");t.global.options.open_speed=e},template:'<div class="mbox-wrapper"><div class="mbox z-depth-1"><h5>$$$_message_$$$</h5>$$$_input_$$$<div class="right-align">$$$_buttons_$$$</div></div></div>',set_locale:function(e){t.locale=e},setLocale:this.set_locale,add_locale:function(e,t){o[e.toLowerCase()]=t},addLocale:this.add_locale,reset_options:function(){t.process_options(t.global.options)},alert:function(){t.reset_options();var o=t.parse_args(arguments),n=o.message,s=o.cb;t.open("alert",n),e(".mbox-wrapper .mbox-ok-button").click(function(){t.close(),s&&s()})},confirm:function(){t.reset_options();var o=t.parse_args(arguments),n=o.message,s=o.cb;t.open("confirm",n),e(".mbox-wrapper .mbox-ok-button").click(function(){t.close(),s&&s(!0)}),e(".mbox-wrapper .mbox-cancel-button").click(function(){t.close(),s&&s(!1)})},prompt:function(){t.reset_options();var o=t.parse_args(arguments),n=o.message,s=o.cb;t.open("prompt",n),e(".mbox-wrapper .mbox-ok-button").click(function(){var o=e(".mbox-wrapper input").val();t.close(),s&&s(o)}),e(".mbox-wrapper .mbox-cancel-button").click(function(){t.close(),s&&s(!1)})},custom:function(o){if(console.log(this),t.reset_options(),"object"!=typeof o)throw"Custom box requires argument 1 to be an object";"object"==typeof o.options&&t.process_options(o.options);var n=t.template;if(n=n.replace(/\$\$\$_input_\$\$\$/gi,"<hr />"),!o.buttons||0===o.buttons.length)throw"You must provide at least 1 button";var s="";o.buttons.forEach(function(e,o){var n="mbox-custom-button-"+o;s+=t.gen_button(e.color||"grey lighten-4",e.label||"",n)}),n=(n=n.replace(/\$\$\$_message_\$\$\$/gi,o.message||"")).replace(/\$\$\$_buttons_\$\$\$/gi,s),e("body").append(n).addClass("mbox-open"),o.buttons.forEach(function(o,n){e("."+("mbox-custom-button-"+n)).click(function(){o.callback?o.callback():t.close()})});var a=t.options.open_speed;e(".mbox-wrapper").fadeIn(a)},open:function(n,s){var a,c=t.template;switch(n){case"alert":a=t.gen_button("light-blue darken-2",o[this.locale].OK,"mbox-ok-button"),c=c.replace(/\$\$\$_input_\$\$\$/gi,"<hr />");break;case"confirm":a=t.gen_button("light-blue darken-2",o[this.locale].OK,"mbox-ok-button"),a+=t.gen_button("grey darken-2",o[this.locale].CANCEL,"mbox-cancel-button"),c=c.replace(/\$\$\$_input_\$\$\$/gi,"<hr />");break;case"prompt":a=t.gen_button("light-blue darken-2",o[this.locale].OK,"mbox-ok-button"),a+=t.gen_button("grey darken-2",o[this.locale].CANCEL,"mbox-cancel-button"),c=c.replace(/\$\$\$_input_\$\$\$/gi,'<input type="text" />')}s&&(c=c.replace(/\$\$\$_message_\$\$\$/gi,s)),a&&(c=c.replace(/\$\$\$_buttons_\$\$\$/gi,a)),e("body").append(c).addClass("mbox-open"),e(".mbox-wrapper").fadeIn(this.options.open_speed),e(".mbox-wrapper .mbox-ok-button").focus()},close:function(){var o=t.options.close_speed;e(".mbox").fadeOut(o,function(){e(this).closest(".mbox-wrapper").remove()}),e("body").removeClass("mbox-open"),e(".mbox-button").unbind("click")},parse_args:function(e){var o={message:null,cb:null};return(e=[].slice.call(e)).forEach(function(e){"string"==typeof e&&(o.message=e),"function"==typeof e&&(o.cb=e),"object"==typeof e&&t.process_options(e)},this),o},process_options:function(e){Object.keys(e).forEach(function(o){t.options[o]=e[o]},this)},gen_button:function(e,o,t){return'&nbsp;<button type="button" class="mbox-button '+t+" waves-effect waves-light btn "+e+'">'+o+"</button>"}};return{alert:t.alert,confirm:t.confirm,prompt:t.prompt,custom:t.custom,add_locale:t.add_locale,set_locale:t.set_locale,close:t.close,set_open_speed:t.set_open_speed,set_close_speed:t.set_close_speed}}(jQuery);